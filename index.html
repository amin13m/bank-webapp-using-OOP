<!DOCTYPE html>
<html lang="fa" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>بانک من</title>
    <link rel="stylesheet" href="style/style.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>

  <body>
    <!-- HEADER / SIDEBAR -->
    <header class="app-header">
      <div class="logo">🏦 بانک من</div>

      <!-- ناوبری -->
      <nav class="nav">
        <button data-section="dashboard" class="nav-item active">
          داشبورد
        </button>
        <button data-section="accounts" class="nav-item">حساب‌ها</button>
        <button data-section="transactions" class="nav-item">تراکنش‌ها</button>
        <button data-section="transfer" class="nav-item">انتقال وجه</button>
        <button data-section="login" id="loginbtn" class="nav-item">
          ورود / ثبت‌نام
        </button>
        <button data-section="logout" id="logoutbtn" class="nav-item">
          خروج
        </button>
      </nav>

      <!-- همبرگر -->
    </header>
    <button id="menuBtn" class="menu-btn" aria-label="Toggle menu">
      <span></span><span></span><span></span>
    </button>
    <!-- نوار پیشرفت اسکرول -->
    <div id="scroll-progress"></div>

    <!-- MAIN APP AREA -->
    <main class="app-main">
      <!-- SECTION: LOGIN -->
      <section id="login" class="section active">
        <div class="auth-card">
          <h2>ورود به حساب</h2>
          <br>
          <form id="loginForm" class="form">
            <div class="form-group">
              <label>نام کاربری</label>
              <input name="username" placeholder="username" required />
            </div>
            <div class="form-group">
              <label>رمز عبور</label>
              <input
                type="password"
                name="password"
                placeholder="password"
                required
              />
            </div>
            <button type="submit" class="btn btn--primary">ورود</button>
          </form>
          <p class="muted">
            حساب کاربری ندارید؟
            <a data-section="createAccount">ثبت‌نام کنید</a>
          </p>
        </div>
      </section>

      <!-- SECTION: CREATE ACCOUNT -->
      <section id="createAccount" class="section hidden">
        <div class="auth-card">
          <h2>ثبت‌نام</h2>
          <br>
          <form id="createAccountForm" class="form">
            <div class="form-group">
              <label>ایمیل</label>
              <input type="email" name="email" placeholder="email" required />
            </div>
            <div class="form-group">
              <label>نام کاربری</label>
              <input name="username" placeholder="username" required />
            </div>
            <div class="form-group">
              <label>رمز عبور</label>
              <input
                type="password"
                name="password"
                placeholder="password"
                required
              />
            </div>
            <button type="submit" class="btn btn--primary">ثبت‌نام</button>
          </form>
          <p class="muted">حساب دارید؟ <a data-section="login">ورود کنید</a></p>
        </div>
      </section>

      <!-- SECTION: DASHBOARD -->
      <section id="dashboard" class="section hidden">
        <header class="dashboard-header">
          <div>
            <h2 id="welcome">خوش آمدید</h2>
            <p id="username" class="username-display"></p>
          </div>
          <button id="logoutBTN" data-section="logout" class="btn btn--outline">خروج</button>
        </header>

        <div class="dashboard-content">
          <!-- CHARTS -->
          <div class="charts-wrapper">
            <h3>تراکنش‌های هفتگی</h3>
            <div class="chart-card large">
              <canvas id="weeklyTransactionsChart"></canvas>
            </div>
            <h3>موجودی حساب‌ها</h3>
            <div class="chart-card small">
              <canvas id="balancePieChart"></canvas>
            </div>
          </div>

          <!-- ACCOUNTS & TRANSACTIONS -->
          <div class="panels">
            <div class="panel accounts">
              <h3>حساب‌های شما</h3>
              <label for="accountList"> </label>
              <select id="accountList" class="accountList"></select>
              <div id="accountDetails" class="account-details"></div>
            </div>

            <br />

            <div class="panel transactions">
              <h3>تراکنش‌ها</h3>
              <br />
              <div class="transaction-list"></div>
            </div>
          </div>
        </div>
      </section>

      <!-- SECTION: ACCOUNTS -->
      <section id="accounts" class="section hidden">
        <h2 class="section-title">مدیریت حساب‌ها</h2>
        <br>
        <div class="form-group">
          <label>انتخاب حساب</label>
          <select id="acc-sc-accountList" class="accountList"></select>
        </div>
        <br />
        <div id="account-info" class="account-info">یک حساب را انتخاب کنید</div>
        <br />
        <div class="actions">
          <button id="createBankAccountBtn" class="btn btn--primary">
            ➕ حساب جدید
          </button>
          <button id="deleteBankAccountBtn" class="btn btn--danger">
            🗑 حذف حساب
          </button>
        </div>
      </section>

      <!-- SECTION: AGREE DELETE -->
      <section id="agreeDeleteBankAccount" class="section hidden">
        <div id="showDLTAccountDescription"></div>
        <div class="actions">
       
          <button id="agreeDeleteBankAccountBtn" class="btn btn--danger">
            حذف حساب
          </button>
          <button id="cancelDeleteBankAccountBtn" class="btn btn--outline">
            انصراف
          </button>
        </div>
      </section>

      <!-- SECTION: CREATE BANK ACCOUNT -->
      <section id="createBankAccount" class="section hidden">
        <h2>ساخت حساب جدید</h2>
        <form id="createBankAccountForm" class="form">
          <div class="form-group">
            <label>نوع حساب</label>
            <select id="accountType" required>
              <option value="saving">پس‌انداز</option>
              <option value="checking">جاری</option>
            </select>
          </div>
          <div class="form-group">
            <label>موجودی اولیه (تومان)</label>
            <input
              type="number"
              id="initialBalance"
              min="1000"
              step="1000"
              placeholder="مبلغ سپرده"
              required
            />
          </div>
          <button type="submit" class="btn btn--primary">ایجاد حساب</button>
        </form>
      </section>

      <!-- SECTION: TRANSACTIONS -->
      <section id="transactions" class="section hidden">
        <h2>تمام تراکنش‌ها</h2>
        <br>
        <div id="transactionList" class="transaction-list"></div>
      </section>

      <!-- SECTION: TRANSFER -->
      <section id="transfer" class="section hidden">
        <h2>🔁 انتقال وجه</h2>
        <br>
        <form id="transferForm" class="form">
          <div class="form-group">
            <label>از حساب</label>
            <select id="fromAccount" class="fromAccountList" required></select>
          </div>
          <div class="form-group">
            <label>به حساب</label>
            <select id="toAccount" class="toAccountList" required></select>
          </div>
          <div class="form-group">
            <label>مبلغ (تومان)</label>
            <input
              type="number"
              id="amount"
              name="amount"
              min="100"
              step="100"
              required
            />
          </div>
          <button type="submit" class="btn btn--primary">انتقال</button>
          <p id="transferMsg" class="muted"></p>
        </form>
      </section>

      <section id="logout" class=" hidden logout-section">
        <div class="logout-card">
          <h2 class="section-title">خروج از حساب کاربری</h2>
          <br>
          <p class="logout-message">
            آیا مطمئن هستید که می‌خواهید از حساب خود خارج شوید؟
          </p>

          <div class="logout-actions">
            <br>
            <button id="logoutBtn" class="logout-btn">🚪 خروج از حساب</button>
            <button data-section="dashboard" class="cancelLogoutBtn">
              بازگشت به داشبورد
            </button>
          </div>
        </div>
      </section>
    </main>

    <!-- FOOTER -->
    <footer class="app-footer">
      <p>© 2025 MyBank | کلیه حقوق محفوظ است</p>
    </footer>

    <!-- MAIN JS -->
    <script type="module" src="scripts/main.js"></script>
  </body>
</html>
